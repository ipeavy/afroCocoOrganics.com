"use strict";function makeAlert(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:5;if(!e||!e.length)return!1;var a=document.querySelector(".toasts"),o=(a||((a=document.createElement("div")).classList.add("toasts"),document.body.appendChild(a)),document.createElement("div")),r=(o.classList.add("toasts__item"),t&&o.classList.add(t),document.createElement("i")),t=(r.classList.add("toasts__icon"),t&&r.classList.add(t),document.createElement("span"));return t.classList.add("toasts__text"),t.textContent=e,o.appendChild(r),o.appendChild(t),a.appendChild(o),o.addEventListener("click",function(){return closeAlert(a,o)}),setTimeout(function(){return closeAlert(a,o)},1e3*n),!0}function closeAlert(t,e){e.classList.add("disappear"),setTimeout(function(){e.remove(),t&&t.childElementCount<=0&&t.remove()},500)}var BASE_URL=window.location.protocol+"//"+window.location.host,ELEM={loader:'<div class="loader"><span></span><span></span><span></span><span></span></div>',image_placeholder:"/img/no_image.jpg"};function SmoothScrollTo(t){t&&t.scrollIntoView({behavior:"smooth"})}document.addEventListener("DOMContentLoaded",function(){var t=document.querySelectorAll("a"),e=document.querySelectorAll("table");t.forEach(function(t){t.hasAttribute("target")&&"_blank"===t.getAttribute("target")&&t.setAttribute("rel","noopener noreferrer nofollow"),t.addEventListener("click",function(t){var e=t.currentTarget.getAttribute("href");("#"===e.charAt(0)||"/"===e.charAt(0)&&"#"===e.charAt(1))&&(e=document.querySelector(t.currentTarget.hash))&&(t.preventDefault(),SmoothScrollTo(e))})}),e.forEach(function(t){t.parentElement.classList.contains("table-responsive")||(t.outerHTML='<div class="table-responsive">'+t.outerHTML+"</div>")}),document.querySelectorAll("form").forEach(function(n){function a(t){var e=t.getAttribute("data-hide");"checkbox"!==t.getAttribute("type")||t.checked||(e?e+=","+t.getAttribute("data-show"):e=t.getAttribute("data-show")),(e="radio"!==t.getAttribute("type")||t.checked?e:null)&&e.split(",").forEach(function(t){var t=r.querySelector('[name="'+t+'"]'),e=t.parentElement;(e.classList.contains("form-control")?e:t).classList.add("hidden")})}function o(t){var e=t.getAttribute("data-show");"checkbox"!==t.getAttribute("type")||t.checked||(e=null),(e="radio"!==t.getAttribute("type")||t.checked?e:null)&&e.split(",").forEach(function(t){var t=r.querySelector('[name="'+t+'"]'),e=t.parentElement;(e.classList.contains("form-control")?e:t).classList.remove("hidden")})}var r;n.insertAdjacentHTML("beforeend",ELEM.loader),(r=n).querySelectorAll("[data-behavior]").forEach(function(e){"visibility"===e.getAttribute("data-behavior")&&(a(e),o(e)),e.addEventListener("change",function(t){"visibility"===e.getAttribute("data-behavior")&&(a(e),o(e))})}),n.addEventListener("submit",function(t){t.preventDefault(),(t=n).classList.add("submit"),t.querySelector('[type="submit"]').disabled=!0;var t=new FormData(n);fetch(n.action,{method:"POST",body:t}).then(function(t){return t.json()}).then(function(t){var e;"success"===t.status&&(n.hasAttribute("data-redirect")&&("this"===(e=n.getAttribute("data-redirect"))?document.location.reload():window.location.href=e),n.hasAttribute("data-reset")&&n.reset()),makeAlert(t.status,t.message)}).catch(function(t){makeAlert("error",t)}),(t=n).classList.remove("submit"),t.querySelector('[type="submit"]').disabled=!1})})}),window.onload=function(){document.querySelectorAll("img").forEach(function(t){t.complete&&void 0!==t.naturalWidth&&t.naturalWidth<=0&&(t.src=ELEM.image_placeholder)}),document.addEventListener("contextmenu",function(t){"IMG"==t.target.nodeName&&t.preventDefault()})};